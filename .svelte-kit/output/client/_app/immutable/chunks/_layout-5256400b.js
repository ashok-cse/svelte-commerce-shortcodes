import{g as u}from"./api-8ad212b5.js";import{D as f,s as y}from"./index-e5a2a3d2.js";import{c as s}from"./index-987d2516.js";import{i as g,a as h,p as b,e as d,w as S,b as w}from"./website-53ccb8f7.js";const P=!1;async function _({url:a,request:c,setHeaders:o}){a.pathname;let m=+a.searchParams.get("page")||1,p=a.searchParams.get("q")||"",e,i,l,n;try{const t=await u("carts/my",c.headers);if(t){const r={items:t==null?void 0:t.items,qty:t==null?void 0:t.qty,tax:t==null?void 0:t.tax,subtotal:t==null?void 0:t.subtotal,total:t==null?void 0:t.total,currencySymbol:t==null?void 0:t.currencySymbol,discount:t==null?void 0:t.discount,selfTakeout:t==null?void 0:t.selfTakeout,shipping:t==null?void 0:t.shipping,unavailableItems:t==null?void 0:t.unavailableItems,formattedAmount:t==null?void 0:t.formattedAmount};e=r,l=s.serialize("cart",JSON.stringify(r)||"",{path:"/"})}}catch{}finally{}try{const t={id:g,domain:f,logo:"/logo.png?tr=w-auto,h-56:w-auto,h-56",address:h,phone:b,email:d,websiteName:S,websiteLegalName:w,stripePublishableKey:y};i=t,n=s.serialize("store",JSON.stringify(t)||"",{path:"/"})}catch{}finally{}return o({cart:l}),o({store:n}),{url:a.href,currentPage:m,q:p,cart:e,store:i}}const q=Object.freeze(Object.defineProperty({__proto__:null,prerender:P,load:_},Symbol.toStringTag,{value:"Module"}));export{q as _,_ as l,P as p};
