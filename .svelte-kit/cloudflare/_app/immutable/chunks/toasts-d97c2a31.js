import{w as R}from"./index-7c2e2153.js";import{Z as b}from"./index-98fbb2d4.js";function _(u=[]){const e=R(u),{set:n,update:m,subscribe:y}=e;let l={duration:3e3,placement:"bottom-right",type:"info",theme:"dark"};function c(t){const{duration:r=3e3,placement:f="bottom-right",type:k="info",theme:D="dark",...I}={...l,...t},p=Date.now(),a={...I,uid:p,placement:f,type:k,theme:D,duration:r,remove:()=>{m(i=>i.filter(s=>s.uid!==p))},update:i=>{var d;delete i.uid;const s=(d=b(e))==null?void 0:d.findIndex(o=>(o==null?void 0:o.uid)===p);s>-1&&m(o=>[...o.slice(0,s),{...o[s],...i},...o.slice(s+1)])}};return m(i=>[...i,a]),r>0&&setTimeout(()=>{a.remove(),typeof a.onRemove=="function"&&a.onRemove()},r),a}function h(t){var r;return(r=b(e))==null?void 0:r.find(f=>(f==null?void 0:f.uid)===t)}function w(){n([])}function x(){m(t=>t.slice(0,t.length-1))}function j(t){l={...l,...t}}return{subscribe:y,add:c,success:g("success",c),info:g("info",c),error:g("error",c),warning:g("warning",c),clearAll:w,clearLast:x,getById:h,setDefaults:j}}const H=_([]);function g(u,e){return function(){if(typeof arguments[0]=="object"){const n=arguments[0];return e({...n,type:u})}else if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){const n=arguments[2]||{};return e({...n,type:u,title:arguments[0],description:arguments[1]})}else if(typeof arguments[0]=="string"){const n=arguments[1]||{};return e({...n,type:u,description:arguments[0]})}}}export{H as t};
